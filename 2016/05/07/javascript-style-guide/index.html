<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Javascript 编码指南 | 洽客前端</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="" />
    
    <meta name="description" content="前言总所周知，javascript 是一种语法极其灵活的语言。变量随时用随时可以声明；语句结束符可以不要；字符串和数字也可以相加；参数多一个少一个也不会报错。没错，当你从 C/C++ 和 Java 严格的语法规定之下，转向 JavaScript 语言，会觉得自由了很多，轻松了很多。
语法松散是 JavaScript 重要的特征。它灵活易懂，给开发人员带来了很多方便，但如果编写过程中不注意，代码的">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript 编码指南">
<meta property="og:url" content="http://www.qiakr.com/2016/05/07/javascript-style-guide/index.html">
<meta property="og:site_name" content="洽客前端">
<meta property="og:description" content="前言总所周知，javascript 是一种语法极其灵活的语言。变量随时用随时可以声明；语句结束符可以不要；字符串和数字也可以相加；参数多一个少一个也不会报错。没错，当你从 C/C++ 和 Java 严格的语法规定之下，转向 JavaScript 语言，会觉得自由了很多，轻松了很多。
语法松散是 JavaScript 重要的特征。它灵活易懂，给开发人员带来了很多方便，但如果编写过程中不注意，代码的">
<meta property="og:image" content="http://7xi480.com1.z0.glb.clouddn.com/ccode.jpg">
<meta property="og:updated_time" content="2016-05-07T07:00:14.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Javascript 编码指南">
<meta name="twitter:description" content="前言总所周知，javascript 是一种语法极其灵活的语言。变量随时用随时可以声明；语句结束符可以不要；字符串和数字也可以相加；参数多一个少一个也不会报错。没错，当你从 C/C++ 和 Java 严格的语法规定之下，转向 JavaScript 语言，会觉得自由了很多，轻松了很多。
语法松散是 JavaScript 重要的特征。它灵活易懂，给开发人员带来了很多方便，但如果编写过程中不注意，代码的">
<meta name="twitter:image" content="http://7xi480.com1.z0.glb.clouddn.com/ccode.jpg">
    

    

    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/vendor/titillium-web/styles.css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/vendor/jquery/2.0.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css">
    
    
        <link rel="stylesheet" href="/vendor/scrollLoading/style.css">
    
    
    

</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">洽客技术团队 （QKED）</p>
                            <p class="description">Talk is cheap, Show me the code.</p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/web开发/">web开发</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/web开发/">web开发</a>
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="post-javascript-style-guide" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Javascript 编码指南
        </h1>
    

            </header>
        
        <div class="article-subtitle">
            <a href="/2016/05/07/javascript-style-guide/" class="article-date">
    <time datetime="2016-05-07T06:23:18.000Z" itemprop="datePublished">2016-05-07</time>
</a>
            
        </div>
        <div class="article-entry" itemprop="articleBody">
            <p><img src="http://7xi480.com1.z0.glb.clouddn.com/ccode.jpg" alt=""></p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>总所周知，<code>javascript</code> 是一种语法极其灵活的语言。变量随时用随时可以声明；语句结束符可以不要；字符串和数字也可以相加；参数多一个少一个也不会报错。<br>没错，当你从 <code>C/C++</code> 和 <code>Java</code> 严格的语法规定之下，转向 <code>JavaScript</code> 语言，会觉得自由了很多，轻松了很多。</p>
<p>语法松散是 <code>JavaScript</code> 重要的特征。它灵活易懂，给开发人员带来了很多方便，但如果编写过程中不注意，代码的调试成本和维护成本则会无形地增加。<br><code>JavaScript</code> 编码会随应被直接发送到客户端的浏览器，代码规范不只是代码质量的保证，也影响到产品的长期信誉。</p>
<p>本文档的目标是使 <code>JavaScript</code> 代码风格保持一致，良好的编程风格有助于写出质量更高、错误更少、更易于维护的程序。</p>
<a id="more"></a>
<h3 id="JavaScript-语言规范"><a href="#JavaScript-语言规范" class="headerlink" title="JavaScript 语言规范"></a>JavaScript 语言规范</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">变量 常量 保留字 数组 字符串 函数 块内函数声明 闭包 Array和Object直接量</span><br><span class="line">对象原型 True与False 类型分配&amp;强制转换 浮点数精度 命名规范</span><br></pre></td></tr></table></figure>
<h3 id="JavaScript-编码风格"><a href="#JavaScript-编码风格" class="headerlink" title="JavaScript 编码风格"></a>JavaScript 编码风格</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">文件编码 分号 逗号 空格 大括号 单引号、双引号 空行 二元和三元操作符 语句块 </span><br><span class="line">注释 全局变量 全等</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="JavaScript-语言规范-1"><a href="#JavaScript-语言规范-1" class="headerlink" title="JavaScript 语言规范"></a>JavaScript 语言规范</h3><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><ul>
<li><p>声明变量必须加上 <code>var</code> 关键字</p>
<p>  当你没有写 var, 变量就会暴露在全局上下文中, 这样很可能会和现有变量冲突. 另外, 如果没有加上, 很难明确该变量的作用域是什么,</p>
<p>  变量也很可能像在局部作用域中, 很轻易地泄漏到 Document 或者 Window 中, 所以务必用 var 去声明变量.</p>
</li>
</ul>
<h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><ul>
<li>常量使用大写字符并用下划线分隔，如：PAGE_CONFIG</li>
</ul>
<h4 id="保留字"><a href="#保留字" class="headerlink" title="保留字"></a>保留字</h4><ul>
<li>不要使用保留字，在IE8中不起作用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var superman = &#123;</span><br><span class="line">  defaults: &#123; clark: &apos;kent&apos; &#125;,</span><br><span class="line">  hidden: true</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var superman = &#123;</span><br><span class="line">  default: &#123; clark: &apos;kent&apos; &#125;,</span><br><span class="line">  private: true</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><ul>
<li>添加数组元素时，使用push而不是直接添加</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var someStack = [];</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">someStack.push(&apos;abracadabra&apos;);</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">someStack[someStack.length] = &apos;abracadabra&apos;;</span><br></pre></td></tr></table></figure>
<ul>
<li>需要复制数组时，可以使用slice</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var len = items.length;</span><br><span class="line">var itemsCopy = [];</span><br><span class="line">var i;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">itemsCopy = items.slice();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">for (i = 0; i &lt; len; i++) &#123;</span><br><span class="line">  itemsCopy[i] = items[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用slice将类数组对象转为数组</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function trigger() &#123;</span><br><span class="line">  var args = Array.prototype.slice.call(arguments);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>遍历数组不使用 <code>for in</code></li>
</ul>
<p>数组对象可能存在数字以外的属性, 这种情况下 for in 不会得到正确结果.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;];</span><br><span class="line">arr.other = &apos;other things&apos;; // 这里仅作演示, 实际中应使用Object类型</span><br><span class="line"></span><br><span class="line">// 正确的遍历方式</span><br><span class="line">for (var i = 0, len = arr.length; i &lt; len; i++) &#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 错误的遍历方式</span><br><span class="line">for (i in arr) &#123;</span><br><span class="line">    console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>清空数组使用 <code>.length = 0</code></p>
<h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><ul>
<li>对字符串使用单引号</li>
</ul>
<p>超过80个字符的字符串应该使用字符串连接符进行跨行（对长字符串过度使用连接符将会影响性能）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var errorMessage = &apos;This is a super long error that was thrown because &apos; +</span><br><span class="line">  &apos;of Batman. When you stop to think about how Batman had anything to do &apos; +</span><br><span class="line">  &apos;with this, you would get nowhere fast.&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var errorMessage = &apos;This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var errorMessage = &apos;This is a super long error that was thrown because \</span><br><span class="line">of Batman. When you stop to think about how Batman had anything to do \</span><br><span class="line">with this, you would get nowhere \</span><br><span class="line">fast.&apos;;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用 <code>join()</code> 来创建字符串</li>
</ul>
<p>通常写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function listHtml(items) &#123;</span><br><span class="line">  var html = &apos;&lt;div class=&quot;foo&quot;&gt;&apos;;</span><br><span class="line">  for (var i = 0; i &lt; items.length; ++i) &#123;</span><br><span class="line">    if (i &gt; 0) &#123;</span><br><span class="line">      html += &apos;, &apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    html += itemHtml(items[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  html += &apos;&lt;/div&gt;&apos;;</span><br><span class="line">  return html;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但这样在 IE 下非常慢, 可以用下面的方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function listHtml(items) &#123;</span><br><span class="line">  var html = [];</span><br><span class="line">  for (var i = 0; i &lt; items.length; ++i) &#123;</span><br><span class="line">    html[i] = itemHtml(items[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  return &apos;&lt;div class=&quot;foo&quot;&gt;&apos; + html.join(&apos;, &apos;) + &apos;&lt;/div&gt;&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong> 也可以是用数组作为字符串构造器, 然后通过 myArray.join(‘’) 转换成字符串. 不过由于赋值操作快于数组的 push(), 所以尽量使用赋值操作. </strong></p>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><ul>
<li>不要在非函数块中(if, while, etc)声明函数，尽管浏览器允许你分配函数给一个变量，但坏消息是，不同的浏览器用不同的方式解析它</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var test;</span><br><span class="line">if (currentUser) &#123;</span><br><span class="line">  test = function test() &#123;</span><br><span class="line">    console.log(&apos;Yup.&apos;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (currentUser) &#123;</span><br><span class="line">  function test() &#123;</span><br><span class="line">    console.log(&apos;Nope.&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>不要命名一个参数为arguments，否则它将优先于传递给每个函数作用域中的arguments对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">function yup(name, options, args) &#123;</span><br><span class="line">  // ...stuff...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function nope(name, options, arguments) &#123;</span><br><span class="line">  // ...stuff...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在作用域顶端对变量赋值，这有助于避免变量声明问题和与声明提升相关的问题</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">function() &#123;</span><br><span class="line">  var name = getName();</span><br><span class="line"></span><br><span class="line">  test();</span><br><span class="line">  console.log(&apos;doing stuff..&apos;);</span><br><span class="line"></span><br><span class="line">  //..other stuff..</span><br><span class="line"></span><br><span class="line">  if (name === &apos;test&apos;) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function() &#123;</span><br><span class="line">  test();</span><br><span class="line">  console.log(&apos;doing stuff..&apos;);</span><br><span class="line"></span><br><span class="line">  //..other stuff..</span><br><span class="line"></span><br><span class="line">  var name = getName();</span><br><span class="line"></span><br><span class="line">  if (name === &apos;test&apos;) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function() &#123;</span><br><span class="line">  if (!arguments.length) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var name = getName();</span><br><span class="line"></span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function() &#123;</span><br><span class="line">  var name = getName();</span><br><span class="line"></span><br><span class="line">  if (!arguments.length) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>函数声明会提升变量名和函数体</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// good </span><br><span class="line"></span><br><span class="line">function example() &#123;</span><br><span class="line">  superPower(); // =&gt; Flying</span><br><span class="line"></span><br><span class="line">  function superPower() &#123;</span><br><span class="line">    console.log(&apos;Flying&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function example() &#123;</span><br><span class="line">  superPower(); // =&gt; TypeError superPower is not a function</span><br><span class="line"></span><br><span class="line">  var superPower = function() &#123;</span><br><span class="line">    console.log(&apos;Flying&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="块内函数声明"><a href="#块内函数声明" class="headerlink" title="块内函数声明"></a>块内函数声明</h4><ul>
<li>不要在块内声明函数</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">if (x) &#123;</span><br><span class="line">  var foo = function() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (x) &#123;</span><br><span class="line">  function foo() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  块内声明函数, 但它不属于 ECMAScript 规范, 各个浏览器糟糕的实现相互不兼容, 有些也与未来 ECMAScript 草案相违背<br>  ECMAScript 只允许在脚本的根语句或函数中声明函数. 如果确实需要在块中定义函数, 建议使用函数表达式来初始化变量:</p>
</li>
</ul>
<h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><ul>
<li>小心使用闭包</li>
</ul>
<p>闭包保留了一个指向它封闭作用域的指针, 所以, 在给 DOM 元素附加闭包时, 很可能会产生循环引用, 进一步导致内存泄漏. 比如下面的代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function foo(element, a, b) &#123;</span><br><span class="line">  element.onclick = function() &#123; /* uses a and b */ &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里, 即使没有使用 element, 闭包也保留了 element, a 和 b 的引用, . 由于 element 也保留了对闭包的引用, 这就产生了循环引用, 这就不能被 GC 回收. 这种情况下, 可将代码重构为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function foo(element, a, b) &#123;</span><br><span class="line">  element.onclick = bar(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bar(a, b) &#123;</span><br><span class="line">  return function() &#123; /* uses a and b */ &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Array-和-Object-直接量"><a href="#Array-和-Object-直接量" class="headerlink" title="Array 和 Object 直接量"></a>Array 和 Object 直接量</h4><ul>
<li>使用 <code>Array</code> 和 <code>Object</code> 语法, 而不使用 <code>Array</code> 和 <code>Object</code> 构造器.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//good</span><br><span class="line">var a = [1, 2, 3];</span><br><span class="line">var o2 = &#123;</span><br><span class="line">  a: 0,</span><br><span class="line">  b: 1,</span><br><span class="line">  c: 2,</span><br><span class="line">  &apos;strange key&apos;: 3</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//bad</span><br><span class="line">var a1 = new Array(1, 2, 3);</span><br><span class="line">var o2 = new Object();</span><br><span class="line">o2.a = 0;</span><br><span class="line">o2.b = 1;</span><br><span class="line">o2.c = 2;</span><br><span class="line">o2[&apos;strange key&apos;] = 3;</span><br></pre></td></tr></table></figure>
<h4 id="对象原型"><a href="#对象原型" class="headerlink" title="对象原型"></a>对象原型</h4><ul>
<li><strong>不要</strong>修改内置对象的原型，如 Object.prototype 和 Array.prototype 的原型，给添加内置原型方法很容易和其它库冲突或者可能与将来ES升级不兼容。</li>
</ul>
<h4 id="True-与-False"><a href="#True-与-False" class="headerlink" title="True 与 False"></a>True 与 False</h4><p>下面的布尔表达式都返回 <code>false</code>:</p>
<ul>
<li><code>null</code></li>
<li><code>undefined</code></li>
<li><code>&#39;&#39;</code> 空字符串</li>
<li><code>0</code> 数字0</li>
</ul>
<p>但小心下面的, 可都返回 <code>true</code>:</p>
<ul>
<li><code>&#39;0&#39;</code> 字符串0</li>
<li><code>[]</code> 空数组</li>
<li><code>{}</code> 空对象</li>
</ul>
<p>如果你想判断是一个变量是否为<code>null/&#39;&#39;/0/false</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// good </span><br><span class="line">if(x)&#123; ... &#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if(x != null)&#123; ... &#125;</span><br></pre></td></tr></table></figure></p>
<p><strong> 还有很多需要注意的地方 </strong><br>以下都为<code>true</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Boolean(&apos;0&apos;) == true</span><br><span class="line">&apos;0&apos; != true</span><br><span class="line">0 != null</span><br><span class="line">0 == []</span><br><span class="line">0 == false</span><br><span class="line">Boolean(null) == false</span><br><span class="line">null != true</span><br><span class="line">null != false</span><br><span class="line">Boolean(undefined) == false</span><br><span class="line">undefined != true</span><br><span class="line">undefined != false</span><br><span class="line">Boolean([]) == true</span><br><span class="line">[] != true</span><br><span class="line">[] == false</span><br><span class="line">Boolean(&#123;&#125;) == true</span><br><span class="line">&#123;&#125; != true</span><br><span class="line">&#123;&#125; != false</span><br></pre></td></tr></table></figure></p>
<h4 id="遍历-Node-List"><a href="#遍历-Node-List" class="headerlink" title="遍历 Node List"></a>遍历 Node List</h4><p>Node lists 是通过给节点迭代器加一个过滤器来实现的. 这表示获取他的属性, 如 length 的时间复杂度为 O(n), 通过 length 来遍历整个列表需要 O(n^2).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var paragraphs = document.getElementsByTagName(&apos;p&apos;);</span><br><span class="line">for (var i = 0; i &lt; paragraphs.length; i++) &#123;</span><br><span class="line">  doSomething(paragraphs[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样做会更好:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var paragraphs = document.getElementsByTagName(&apos;p&apos;);</span><br><span class="line">for (var i = 0, paragraph; paragraph = paragraphs[i]; i++) &#123;</span><br><span class="line">  doSomething(paragraph);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种方法对所有的 collections 和数组(只要数组不包含 falsy 值) 都适用.</p>
<p>在上面的例子中, 也可以通过 firstChild 和 nextSibling 来遍历孩子节点.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var parentNode = document.getElementById(&apos;foo&apos;);</span><br><span class="line">for (var child = parentNode.firstChild; child; child = child.nextSibling) &#123;</span><br><span class="line">  doSomething(child);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="类型分配-amp-强制转换"><a href="#类型分配-amp-强制转换" class="headerlink" title="类型分配&amp;强制转换"></a>类型分配&amp;强制转换</h4><ul>
<li>执行强制类型转换的语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//  =&gt; this.reviewScore = 9;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var totalScore = this.reviewScore + &apos; total score&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var totalScore = this.reviewScore + &apos;&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var totalScore = &apos;&apos; + this.reviewScore;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var totalScore = &apos;&apos; + this.reviewScore + &apos; total score&apos;;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用parseInt对Numbers进行转换，并带一个进制作为参数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var inputValue = &apos;4&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var val = new Number(inputValue);</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var val = +inputValue;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var val = inputValue &gt;&gt; 0;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var val = parseInt(inputValue);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var val = Number(inputValue);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var val = parseInt(inputValue, 10);</span><br></pre></td></tr></table></figure>
<p><strong> 注意： </strong><br>当使用位运算时，Numbers被视为64位值，但是位运算总是返回32位整型。<br>对于整型值大于32位的进行位运算将导致不可预见的行为。<br>最大的有符号32位整数是2,147,483,647</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2147483647 &gt;&gt; 0 //=&gt; 2147483647</span><br><span class="line">2147483648 &gt;&gt; 0 //=&gt; -2147483648</span><br><span class="line">2147483649 &gt;&gt; 0 //=&gt; -2147483647</span><br><span class="line"></span><br><span class="line">~~2147483647 //=&gt; 2147483647</span><br><span class="line">~~2147483648 //=&gt; -2147483648</span><br><span class="line">~~2147483649 //=&gt; -2147483647</span><br></pre></td></tr></table></figure>
<h4 id="浮点数精度"><a href="#浮点数精度" class="headerlink" title="浮点数精度"></a>浮点数精度</h4><p>使用了IEEE 754 浮点数格式来存储浮点类型的任何编程语言（C/C++/C#/Java 等等）都存在精度丢失问题。</p>
<p>在 C#、Java 中，提供了 Decimal、BigDecimal 封装类来进行相应的处理，才避开了精度丢失。</p>
<p>原生JS并没有提供相应的API, 寻么就会出现以下类似怪异情况：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0.1 + 0.2 == 0.30000000000000004</span><br><span class="line">9999999999999999 == 10000000000000000; // true</span><br><span class="line">0.05 + 0.2 == 0.25 // true</span><br><span class="line">0.05 + 0.9 == 0.95 // false</span><br></pre></td></tr></table></figure>
<p>对于这人问题这里不做展开，只提供解决方案，可使用 <a href="https://github.com/josdejong/mathjs" target="_blank" rel="external">math.js</a> 对数据进行运算</p>
<p>详情解释见 玉伯的<a href="https://lifesinger.wordpress.com/2011/03/07/js-precision/" target="_blank" rel="external">JavaScript 中小数和大整数的精度丢失</a></p>
<h4 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h4><ul>
<li>避免单字母名称，让名称具有描述性</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function q() &#123;</span><br><span class="line">  // ...stuff...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function query() &#123;</span><br><span class="line">  // ..stuff..</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>当命名对象、函数和实例时使用骆驼拼写法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">var OBJEcttsssss = &#123;&#125;;</span><br><span class="line">var this_is_my_object = &#123;&#125;;</span><br><span class="line">function c() &#123;&#125;</span><br><span class="line">var u = new user(&#123;</span><br><span class="line">  name: &apos;Bob Parr&apos;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var thisIsMyObject = &#123;&#125;;</span><br><span class="line">function thisIsMyFunction() &#123;&#125;</span><br><span class="line">var user = new User(&#123;</span><br><span class="line">  name: &apos;Bob Parr&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>当命名构造函数或类名时，使用驼峰式写法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function user(options) &#123;</span><br><span class="line">  this.name = options.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var bad = new user(&#123;</span><br><span class="line">  name: &apos;nope&apos;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function User(options) &#123;</span><br><span class="line">  this.name = options.name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var good = new User(&#123;</span><br><span class="line">  name: &apos;yup&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>命名私有属性时使用前置下划线</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">this.__firstName__ = &apos;Panda&apos;;</span><br><span class="line">this.firstName_ = &apos;Panda&apos;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">this._firstName = &apos;Panda&apos;;</span><br></pre></td></tr></table></figure>
<ul>
<li>保存this引用时使用_this</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function() &#123;</span><br><span class="line">  var self = this;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    console.log(self);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function() &#123;</span><br><span class="line">  var that = this;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    console.log(that);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function() &#123;</span><br><span class="line">  var _this = this;</span><br><span class="line">  return function() &#123;</span><br><span class="line">    console.log(_this);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JavaScript-编码风格-1"><a href="#JavaScript-编码风格-1" class="headerlink" title="JavaScript 编码风格"></a>JavaScript 编码风格</h3><h4 id="文件编码"><a href="#文件编码" class="headerlink" title="文件编码"></a>文件编码</h4><ul>
<li>JavaScript 文件使用无 <code>BOM</code> 的 <code>UTF-8</code> 编码。</li>
</ul>
<h4 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h4><ul>
<li>总是以分号结尾</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var myMethod = function() &#123;</span><br><span class="line">  return 42;</span><br><span class="line">&#125;;</span><br><span class="line">(function() &#123;</span><br><span class="line">  // Some initialization code wrapped in a function to create a scope for locals.</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var myMethod = function() &#123;</span><br><span class="line">  return 42;</span><br><span class="line">&#125;</span><br><span class="line">(function() &#123;</span><br><span class="line">  // Some initialization code wrapped in a function to create a scope for locals.</span><br><span class="line">&#125;)();</span><br><span class="line">// Uncaught TypeError: (intermediate value)(...) is not a function(…)</span><br><span class="line">//语句会解释成, 一个函数带一匿名函数作为参数而被调用, 返回42后, 又一次被&quot;调用&quot;, 这就导致了错误.</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">(function() &#123;</span><br><span class="line">  var name = &apos;Skywalker&apos;;</span><br><span class="line">  return name;</span><br><span class="line">&#125;)();</span><br><span class="line">或</span><br><span class="line">;(function() &#123;</span><br><span class="line">  var name = &apos;Skywalker&apos;;</span><br><span class="line">  return name;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">(function() &#123;</span><br><span class="line">  var name = &apos;Skywalker&apos;</span><br><span class="line">  return name</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<pre><code>JavaScript 的语句以分号作为结束符, 除非可以非常准确推断某结束位置才会省略分号. 语句中声明了函数/对象/数组直接量, 但 闭括号(&apos;}&apos;或&apos;]&apos;)并不足以表示该语句的结束. 
在 JavaScript 中, 只有当语句后的下一个符号是后缀或括号运算符时, 才会认为该语句的结束.
遗漏分号有时会出现很奇怪的结果, 所以确保语句以分号结束.
</code></pre><h5 id="逗号"><a href="#逗号" class="headerlink" title="逗号"></a>逗号</h5><ul>
<li>一次性申明多个变量或申明一个对象，逗号置尾</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var foo = 1,</span><br><span class="line">    bar = 2,</span><br><span class="line">    baz = 3;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    foo: 1,</span><br><span class="line">    bar: 2,</span><br><span class="line">    baz: 3</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var foo = 1</span><br><span class="line">  , bar = 2</span><br><span class="line">  , baz = 3;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">    foo: 1</span><br><span class="line">  , bar: 2</span><br><span class="line">  , baz: 3</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h5><ul>
<li>函数名称和条件语句后面不加空格</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">function foo() &#123;</span><br><span class="line">  return &quot;bar&quot;;</span><br><span class="line">&#125;</span><br><span class="line">if(true) &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function foo () &#123;</span><br><span class="line">  return &quot;bar&quot;;</span><br><span class="line">&#125;</span><br><span class="line">if (true) &#123;</span><br><span class="line">  //...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>参数与括号之间无空格</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// good </span><br><span class="line">function fn(arg1, arg2) &#123;</span><br><span class="line">//or</span><br><span class="line">if (true) &#123;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function fn( arg1, arg2 ) &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ( true ) &#123;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>对象字面量冒号后面加空格，前面不加</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">&#123;</span><br><span class="line">  foo: 1,</span><br><span class="line">  bar: 2,</span><br><span class="line">  baz: 3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">&#123;</span><br><span class="line">  foo : 1,</span><br><span class="line">  bar : 2,</span><br><span class="line">  baz : 3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在左大括号之前留一个空格</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">function test() &#123;</span><br><span class="line">  console.log(&apos;test&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function test()&#123;</span><br><span class="line">  console.log(&apos;test&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>用空白分隔运算符</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">var x = y + 5;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var x=y+5;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用软制表符设置两个空格</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function() &#123;</span><br><span class="line">∙∙∙∙var name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function() &#123;</span><br><span class="line">∙var name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function() &#123;</span><br><span class="line">∙∙var name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>当调用很长的方法链时使用缩进，可以强调这行是方法调用，不是新的语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">$(&apos;#items&apos;).find(&apos;.selected&apos;).highlight().end().find(&apos;.open&apos;).updateCount();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">$(&apos;#items&apos;).</span><br><span class="line">  find(&apos;.selected&apos;).</span><br><span class="line">    highlight().</span><br><span class="line">    end().</span><br><span class="line">  find(&apos;.open&apos;).</span><br><span class="line">    updateCount();</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">$(&apos;#items&apos;)</span><br><span class="line">  .find(&apos;.selected&apos;)</span><br><span class="line">    .highlight()</span><br><span class="line">    .end()</span><br><span class="line">  .find(&apos;.open&apos;)</span><br><span class="line">    .updateCount();</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">var leds = stage.selectAll(&apos;.led&apos;).data(data).enter().append(&apos;svg:svg&apos;).classed(&apos;led&apos;, true)</span><br><span class="line">    .attr(&apos;width&apos;,  (radius + margin) * 2).append(&apos;svg:g&apos;)</span><br><span class="line">    .attr(&apos;transform&apos;, &apos;translate(&apos; + (radius + margin) + &apos;,&apos; + (radius + margin) + &apos;)&apos;)</span><br><span class="line">    .call(tron.led);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var leds = stage.selectAll(&apos;.led&apos;)</span><br><span class="line">    .data(data)</span><br><span class="line">  .enter().append(&apos;svg:svg&apos;)</span><br><span class="line">    .classed(&apos;led&apos;, true)</span><br><span class="line">    .attr(&apos;width&apos;,  (radius + margin) * 2)</span><br><span class="line">  .append(&apos;svg:g&apos;)</span><br><span class="line">    .attr(&apos;transform&apos;, &apos;translate(&apos; + (radius + margin) + &apos;,&apos; + (radius + margin) + &apos;)&apos;)</span><br><span class="line">    .call(tron.led);</span><br></pre></td></tr></table></figure>
<h5 id="大括号"><a href="#大括号" class="headerlink" title="大括号"></a>大括号</h5><ul>
<li>表示区块起首的大括号，不要另起一行。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">return &#123;</span><br><span class="line">    key : value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">return</span><br><span class="line">&#123;　　</span><br><span class="line">    key:value;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>代码的原意，是要返回一个对象，但实际上返回的是undefined，因为Javascript自动在return语句后面添加了分号。</p>
<h5 id="单引号、双引号"><a href="#单引号、双引号" class="headerlink" title="单引号、双引号"></a>单引号、双引号</h5><ul>
<li>统一使用单引号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var msg = &apos;This is some HTML&apos;;</span><br></pre></td></tr></table></figure>
<pre><code>单引号 (&apos;) 优于双引号 (&quot;). 当你创建一个包含 HTML 代码的字符串时就知道它的好处了.
</code></pre><h5 id="空行"><a href="#空行" class="headerlink" title="空行"></a>空行</h5><ul>
<li>使用空行来划分一组逻辑上相关联的代码片段.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">doSomethingTo(x);</span><br><span class="line">doSomethingElseTo(x);</span><br><span class="line">andThen(x);</span><br><span class="line"></span><br><span class="line">nowDoSomethingWith(y);</span><br><span class="line"></span><br><span class="line">andNowWith(z);</span><br></pre></td></tr></table></figure>
<h5 id="二元和三元操作符"><a href="#二元和三元操作符" class="headerlink" title="二元和三元操作符"></a>二元和三元操作符</h5><ul>
<li>操作符始终跟随着前行, 这样就不用顾虑分号的隐式插入问题. 如果一行实在放不下, 还是按照下面的缩进风格来换行.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var x = a ? b : c;  // All on one line if it will fit.</span><br><span class="line"></span><br><span class="line">// Indentation +4 is OK.</span><br><span class="line">var y = a ?</span><br><span class="line">    longButSimpleOperandB : longButSimpleOperandC;</span><br><span class="line"></span><br><span class="line">// Indenting to the line position of the first operand is also OK.</span><br><span class="line">var z = a ?</span><br><span class="line">        moreComplicatedB :</span><br><span class="line">        moreComplicatedC;</span><br><span class="line"></span><br><span class="line">// 二元操作符后面的必须是一个完整的执行语句</span><br><span class="line">// bad</span><br><span class="line">var isShow = true, x1;</span><br><span class="line">isShow ? x1=2;</span><br><span class="line">//Uncaught SyntaxError: Unexpected token ;(…)</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">var isShow = true, x1;</span><br><span class="line">isShow ? (x1=2);</span><br></pre></td></tr></table></figure>
<ul>
<li>二元布尔操作符是可短路的, 只有在必要时才会计算到最后一项.<br><code>&quot;||&quot;</code> 被称作为 <code>default</code> 操作符</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function foo(opt_win) &#123;</span><br><span class="line">  var win;</span><br><span class="line">  if (opt_win) &#123;</span><br><span class="line">    win = opt_win;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    win = window;</span><br><span class="line">  &#125;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 可简化为</span><br><span class="line">function foo(opt_win) &#123;</span><br><span class="line">  var win = opt_win || window;</span><br><span class="line">  // ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>“&amp;&amp;” 也可简短代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">if (node) &#123;</span><br><span class="line">  if (node.kids) &#123;</span><br><span class="line">    if (node.kids[index]) &#123;</span><br><span class="line">      foo(node.kids[index]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 可简化为</span><br><span class="line">if (node &amp;&amp; node.kids &amp;&amp; node.kids[index]) &#123;</span><br><span class="line">  foo(node.kids[index]);</span><br><span class="line">&#125;</span><br><span class="line">//或者</span><br><span class="line">var kid = node &amp;&amp; node.kids &amp;&amp; node.kids[index];</span><br><span class="line">if (kid) &#123;</span><br><span class="line">  foo(kid);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="语句块"><a href="#语句块" class="headerlink" title="语句块"></a>语句块</h5><ul>
<li>对于使用if和else的多行语句块，把else和if语句块的右大括号放在同一行</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">if (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">if (test) &#123;</span><br><span class="line">  thing1();</span><br><span class="line">  thing2();</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">  thing3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h4><ul>
<li>多行注释使用/<em>* … </em>/，需包含一个描述、所有参数的具体类型和值以及返回值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">/**</span><br><span class="line"> * make() returns a new element</span><br><span class="line"> * based on the passed in tag name</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;String&#125; tag</span><br><span class="line"> * @return &#123;Element&#125; element</span><br><span class="line"> */</span><br><span class="line">function make(tag) &#123;</span><br><span class="line"></span><br><span class="line">  // ...stuff...</span><br><span class="line"></span><br><span class="line">  return element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">// make() returns a new element</span><br><span class="line">// based on the passed in tag name</span><br><span class="line">//</span><br><span class="line">// @param &#123;String&#125; tag</span><br><span class="line">// @return &#123;Element&#125; element</span><br><span class="line">function make(tag) &#123;</span><br><span class="line"></span><br><span class="line">  // ...stuff...</span><br><span class="line"></span><br><span class="line">  return element;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>单行注释使用<code>//</code>，把单行注释放在语句的上一行，并且在注释之前空一行</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// good</span><br><span class="line">function getType() &#123;</span><br><span class="line">  console.log(&apos;fetching type...&apos;);</span><br><span class="line"></span><br><span class="line">  // set the default type to &apos;no type&apos;</span><br><span class="line">  var type = this._type || &apos;no type&apos;;</span><br><span class="line"></span><br><span class="line">  return type;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">function getType() &#123;</span><br><span class="line">  console.log(&apos;fetching type...&apos;);</span><br><span class="line">  // set the default type to &apos;no type&apos;</span><br><span class="line">  var type = this._type || &apos;no type&apos;;</span><br><span class="line"></span><br><span class="line">  return type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>使用<code>//TODO:</code>给问题解决方案作注释</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Calculator() &#123;</span><br><span class="line"></span><br><span class="line">  // TODO: total should be configurable by an options param</span><br><span class="line">  this.total = 0;</span><br><span class="line"></span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h5><ul>
<li>避免使用全局变量；如果不得不使用，用大写字母表示变量名，比如UPPER_CASE。</li>
</ul>
<h4 id="和"><a href="#和" class="headerlink" title="== 和 ==="></a><code>==</code> 和 <code>===</code></h4><ul>
<li>尽量使用’===’来进行逻辑等的判断，用’!==’进行逻辑不等的判断</li>
<li><code>==</code>作逻辑等判断时，会先进行类型转换后再进行比较。<code>===</code>则不会。因而，<code>==</code>进行的判断结果可能产生偏差。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var valueA = &quot;1&quot;; </span><br><span class="line">var valueB = 1; </span><br><span class="line">if ( valueA == valueB) &#123; </span><br><span class="line">  alert(&quot;Equal&quot;); </span><br><span class="line">&#125; </span><br><span class="line">else &#123; </span><br><span class="line">  alert(&quot;Not equal&quot;) </span><br><span class="line">&#125; </span><br><span class="line">//output: &quot;Equal&quot;</span><br><span class="line">if ( valueA === valueB) &#123; </span><br><span class="line">  alert(&quot;Equal&quot;); </span><br><span class="line">&#125; </span><br><span class="line">else &#123; </span><br><span class="line">  alert(&quot;Not equal&quot;) </span><br><span class="line">&#125; </span><br><span class="line">//output: &quot;Not equal&quot;</span><br></pre></td></tr></table></figure>
        </div>
        <footer class="article-footer">
            



    <a data-url="http://www.qiakr.com/2016/05/07/javascript-style-guide/" data-id="cinwt8wlq000095c9h94x79ke" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我们 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/git-lt/qkfe/tree/master" target="_blank">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/05/07/javascript-style-guide/" class="thumbnail">
    
    
        <span style="background-image:url(http://7xi480.com1.z0.glb.clouddn.com/ccode.jpg)" alt="Javascript 编码指南" class="thumbnail-image"></span>
    
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/web开发/">web开发</a></p>
                            <p class="item-title"><a href="/2016/05/07/javascript-style-guide/" class="title">Javascript 编码指南</a></p>
                            <p class="item-date"><time datetime="2016-05-07T06:23:18.000Z" itemprop="datePublished">2016-05-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/web开发/">web开发</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>


            
                

            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>
                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2016 LT</p>
                <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
            </div>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://www.qiakr.com/2016/05/07/javascript-style-guide/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js"></script>
    

    
        <script src="/vendor/scrollLoading/jquery.scrollLoading.js"></script>
        <script src="/vendor/scrollLoading/main.js"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>
